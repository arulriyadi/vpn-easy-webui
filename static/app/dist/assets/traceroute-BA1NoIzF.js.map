{"version":3,"file":"traceroute-BA1NoIzF.js","sources":["../../src/views/traceroute.vue"],"sourcesContent":["<script>\nimport {fetchGet} from \"@/utilities/fetch.js\";\nimport {WireguardConfigurationsStore} from \"@/stores/WireguardConfigurationsStore.js\";\nimport OSMap from \"@/components/map/osmap.vue\";\nimport LocaleText from \"@/components/text/localeText.vue\";\n\nexport default {\n\tname: \"traceroute\",\n\tcomponents: {LocaleText, OSMap},\n\tdata(){\n\t\treturn {\n\t\t\ttracing: false,\n\t\t\tipAddress: undefined,\n\t\t\ttracerouteResult: undefined\n\t\t}\n\t},\n\tsetup(){\n\t\tconst store = WireguardConfigurationsStore();\n\t\treturn {store}\n\t},\n\tmethods: {\n\t\texecute(){\n\t\t\tif (this.ipAddress){\n\t\t\t\tthis.tracing = true;\n\t\t\t\tthis.tracerouteResult = undefined\n\t\t\t\tfetchGet(\"/api/traceroute/execute\", {\n\t\t\t\t\tipAddress: this.ipAddress,\n\t\t\t\t}, (res) => {\n\t\t\t\t\tif (res.status){\n\t\t\t\t\t\tthis.tracerouteResult = res.data\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.store.newMessage(\"Server\", res.message, \"danger\")\n\t\t\t\t\t}\n\t\t\t\t\tthis.tracing = false\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\t\n}\n</script>\n\n<template>\n\t<div class=\"mt-md-5 mt-3 text-body\">\n\t\t<div class=\"container-md\">\n\t\t\t<h3 class=\"mb-3 text-body\">\n\t\t\t\t<LocaleText t=\"Traceroute\"></LocaleText>\n\t\t\t</h3>\n\t\t\t<div class=\"d-flex gap-2 mb-3 flex-column\">\n\t\t\t\t<div class=\"flex-grow-1\">\n\t\t\t\t\t<label class=\"mb-1 text-muted\" for=\"ipAddress\">\n\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t<LocaleText t=\"Enter IP Address / Hostname\"></LocaleText>\n\t\t\t\t\t\t</small></label>\n\t\t\t\t\t<input\n\t\t\t\t\t\t:disabled=\"this.tracing\"\n\t\t\t\t\t\tid=\"ipAddress\"\n\t\t\t\t\t\tclass=\"form-control rounded-3\"\n\t\t\t\t\t\tv-model=\"this.ipAddress\"\n\t\t\t\t\t\t@keyup.enter=\"this.execute()\"\n\t\t\t\t\t\ttype=\"text\">\n\t\t\t\t</div>\n\t\t\t\t<button class=\"btn btn-primary rounded-3 position-relative flex-grow-1\"\n\t\t\t\t        :disabled=\"this.tracing || !this.ipAddress\"\n\t\t\t\t        @click=\"this.execute()\">\n\t\t\t\t\t<Transition name=\"slide\">\n\t\t\t\t\t\t\t<span v-if=\"!this.tracing\" class=\"d-block\">\n\t\t\t\t\t\t\t\t<i class=\"bi bi-person-walking me-2\"></i>Trace!\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span v-else class=\"d-block\">\n\t\t\t\t\t\t\t\t<span class=\"spinner-border spinner-border-sm\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t\t<span class=\"visually-hidden\" role=\"status\">Loading...</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t</Transition>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class=\"position-relative\">\n\t\t\t\t<Transition name=\"ping\">\n\t\t\t\t\t<div v-if=\"!this.tracerouteResult\" key=\"pingPlaceholder\">\n\t\t\t\t\t\t<div class=\"pingPlaceholder bg-body-secondary rounded-3 mb-3\"\n\t\t\t\t\t\t     style=\"height: 300px !important;\"\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"pingPlaceholder bg-body-secondary rounded-3 mb-3\"\n\t\t\t\t\t\t     :style=\"{'animation-delay': `${x*0.05}s`}\"\n\t\t\t\t\t\t     :class=\"{'animate__animated animate__flash animate__slower animate__infinite': this.tracing}\"\n\t\t\t\t\t\t     v-for=\"x in 5\" ></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t<OSMap :d=\"this.tracerouteResult\" type=\"traceroute\"></OSMap>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div key=\"table\" class=\"w-100 mt-2\">\n\t\t\t\t\t\t\t<table class=\"table table-sm rounded-3 w-100\">\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Hop\"></LocaleText>\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"IP Address\"></LocaleText>\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Average RTT (ms)\"></LocaleText>\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Min RTT (ms)\"></LocaleText>\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Max RTT (ms)\"></LocaleText>\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Geolocation\"></LocaleText>\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr v-for=\"(hop, key) in this.tracerouteResult\">\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<small>{{hop.hop}}</small>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t<samp>{{hop.ip}}</samp>\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t<samp>{{hop.avg_rtt}}</samp>\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t<samp>{{hop.min_rtt}}</samp>\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t<samp>{{hop.max_rtt}}</samp>\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"hop.geo.city && hop.geo.country\">\n\t\t\t\t\t\t\t\t\t\t\t<small>{{hop.geo.city}}, {{hop.geo.country}}</small>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span v-else>\n\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Transition>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style scoped>\n.pingPlaceholder{\n\twidth: 100%;\n\theight: 40px;\n}\n.ping-move, /* apply transition to moving elements */\n.ping-enter-active,\n.ping-leave-active {\n\ttransition: all 0.4s cubic-bezier(0.82, 0.58, 0.17, 0.9);\n}\n\n.ping-leave-active{\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.ping-enter-from,\n.ping-leave-to {\n\topacity: 0;\n\tfilter: blur(3px);\n}\n\n.ping-leave-active {\n\tposition: absolute;\n}\n\ntable th, table td{\n\tpadding: 0.5rem;\n}\n\n.table > :not(caption) > * > *{\n\tbackground-color: transparent !important;\n}\n</style>"],"names":["_sfc_main","LocaleText","OSMap","WireguardConfigurationsStore","fetchGet","res","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_7","_hoisted_8","_hoisted_11","_hoisted_12","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_component_LocaleText","_hoisted_6","_cache","$event","_withKeys","_Transition","_withCtx","_hoisted_10","_hoisted_9","_createTextVNode","_hoisted_13","_component_OSMap","_hoisted_14","_Fragment","_renderList","hop","key","_toDisplayString","_hoisted_22","_hoisted_23","x","_normalizeClass","_normalizeStyle"],"mappings":"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"}