{"version":3,"file":"organizationAssignments-DgctGOXH.js","sources":["../../src/views/organizationAssignments.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"d-flex justify-content-between align-items-center mb-4\">\n          <div>\n            <h2 class=\"mb-0\">\n              <i class=\"bi bi-people me-2\"></i>\n              Organization User Assignments\n            </h2>\n            <p class=\"text-muted mb-0\">Manage user assignments to organizations</p>\n          </div>\n          <button class=\"btn btn-primary\" @click=\"openAssignUserModal\">\n            <i class=\"bi bi-plus-circle me-2\"></i>\n            Assign User to Organization\n          </button>\n        </div>\n\n        <!-- Quick Stats -->\n        <div class=\"row mb-4\">\n          <div class=\"col-md-4\">\n            <div class=\"card bg-primary text-white\">\n              <div class=\"card-body\">\n                <div class=\"d-flex align-items-center\">\n                  <i class=\"bi bi-building me-3\" style=\"font-size: 2rem;\"></i>\n                  <div>\n                    <h4 class=\"mb-0\">{{ organizations.length }}</h4>\n                    <small>Total Organizations</small>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-4\">\n            <div class=\"card bg-success text-white\">\n              <div class=\"card-body\">\n                <div class=\"d-flex align-items-center\">\n                  <i class=\"bi bi-person-check me-3\" style=\"font-size: 2rem;\"></i>\n                  <div>\n                    <h4 class=\"mb-0\">{{ totalAssignments }}</h4>\n                    <small>Total Assignments</small>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-4\">\n            <div class=\"card bg-info text-white\">\n              <div class=\"card-body\">\n                <div class=\"d-flex align-items-center\">\n                  <i class=\"bi bi-people me-3\" style=\"font-size: 2rem;\"></i>\n                  <div>\n                    <h4 class=\"mb-0\">{{ users.length }}</h4>\n                    <small>Total Users</small>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Organizations with Users -->\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h5 class=\"card-title mb-0\">\n              <i class=\"bi bi-building me-2\"></i>\n              Organizations & User Assignments\n            </h5>\n          </div>\n          <div class=\"card-body p-0\">\n            <div v-if=\"loading\" class=\"text-center p-4\">\n              <div class=\"spinner-border\" role=\"status\">\n                <span class=\"visually-hidden\">Loading...</span>\n              </div>\n            </div>\n            <div v-else class=\"table-responsive\">\n              <table class=\"table table-hover mb-0\">\n                <thead class=\"table-light\">\n                  <tr>\n                    <th>Organization</th>\n                    <th>Assigned Users</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"org in organizations\" :key=\"org.id\">\n                    <td>\n                      <div class=\"d-flex align-items-center\">\n                        <div class=\"me-2\" \n                             :style=\"`width: 12px; height: 12px; background-color: ${org.color}; border-radius: 50%;`\">\n                        </div>\n                        <div>\n                          <strong>{{ org.name }}</strong>\n                          <br>\n                          <small class=\"text-muted\">{{ org.description || 'No description' }}</small>\n                        </div>\n                      </div>\n                    </td>\n                    <td>\n                      <div v-if=\"getOrgUsers(org.id).length === 0\" class=\"text-muted\">\n                        No users assigned\n                      </div>\n                      <div v-else>\n                        <span v-for=\"user in getOrgUsers(org.id)\" :key=\"user.id\" \n                              class=\"badge bg-secondary me-1 mb-1\">\n                          {{ user.username }}\n                        </span>\n                      </div>\n                    </td>\n                    <td>\n                      <button class=\"btn btn-sm btn-outline-primary\" \n                              @click=\"viewOrgDetails(org)\" \n                              title=\"View Details\">\n                        <i class=\"bi bi-eye\"></i>\n                      </button>\n                      <button class=\"btn btn-sm btn-outline-success\" \n                              @click=\"openAssignUserModal(org)\" \n                              title=\"Assign User\">\n                        <i class=\"bi bi-person-plus\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Organization Details Modal -->\n    <div class=\"modal fade\" id=\"orgDetailsModal\" tabindex=\"-1\" aria-labelledby=\"orgDetailsModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"orgDetailsModalLabel\">\n              <i class=\"bi bi-building me-2\"></i>\n              {{ selectedOrg?.name }} - User Assignments\n            </h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div v-if=\"selectedOrg\">\n              <div class=\"mb-3\">\n                <button class=\"btn btn-primary\" @click=\"openAssignUserModal(selectedOrg)\">\n                  <i class=\"bi bi-person-plus me-2\"></i>\n                  Assign New User\n                </button>\n              </div>\n              \n              <div v-if=\"orgUsers.length === 0\" class=\"text-center p-3 border rounded\">\n                <i class=\"bi bi-person-x text-muted\" style=\"font-size: 2rem;\"></i>\n                <p class=\"text-muted mt-2 mb-0\">No users assigned to this organization</p>\n              </div>\n              <div v-else class=\"table-responsive\">\n                <table class=\"table table-sm\">\n                  <thead>\n                    <tr>\n                      <th>Username</th>\n                      <th>Email</th>\n                      <th>Assigned Date</th>\n                      <th>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"user in orgUsers\" :key=\"user.id\">\n                      <td>{{ user.username }}</td>\n                      <td>{{ user.email || '-' }}</td>\n                      <td>{{ formatDate(user.assigned_at) }}</td>\n                      <td>\n                        <button class=\"btn btn-sm btn-outline-danger\" \n                                @click=\"removeUserFromOrg(user.id)\">\n                          <i class=\"bi bi-trash\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Assign User Modal -->\n    <div class=\"modal fade\" id=\"assignUserModal\" tabindex=\"-1\" aria-labelledby=\"assignUserModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"assignUserModalLabel\">Assign User to Organization</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <form @submit.prevent=\"assignUser\">\n              <div class=\"mb-3\">\n                <label for=\"selectedOrg\" class=\"form-label\">Organization <span class=\"text-danger\">*</span></label>\n                <select class=\"form-select\" id=\"selectedOrg\" v-model=\"assignmentForm.organization_id\" required>\n                  <option value=\"\">Select Organization</option>\n                  <option v-for=\"org in organizations\" :key=\"org.id\" :value=\"org.id\">\n                    {{ org.name }}\n                  </option>\n                </select>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"selectedUser\" class=\"form-label\">User <span class=\"text-danger\">*</span></label>\n                <select class=\"form-select\" id=\"selectedUser\" v-model=\"assignmentForm.user_id\" required>\n                  <option value=\"\">Select User</option>\n                  <option v-for=\"user in availableUsers\" :key=\"user.id\" :value=\"user.id\">\n                    {{ user.username }} {{ user.email ? `(${user.email})` : '' }}\n                  </option>\n                </select>\n              </div>\n            </form>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"assignUser\">Assign User</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue'\n\nexport default {\n  name: 'OrganizationAssignments',\n  setup() {\n    const organizations = ref([])\n    const users = ref([])\n    const userOrganizations = ref([])\n    const loading = ref(false)\n    const selectedOrg = ref(null)\n    const orgUsers = ref([])\n    \n    const assignmentForm = ref({\n      user_id: '',\n      organization_id: ''\n    })\n    \n    const totalAssignments = computed(() => {\n      return userOrganizations.value.length\n    })\n    \n    const availableUsers = computed(() => {\n      // Filter out users who are already assigned to the selected organization\n      const assignedUserIds = userOrganizations.value\n        .filter(uo => uo.organization_id === parseInt(assignmentForm.value.organization_id))\n        .map(uo => uo.user_id)\n      \n      return users.value.filter(user => !assignedUserIds.includes(user.id))\n    })\n    \n    const loadData = async () => {\n      loading.value = true\n      try {\n        // Load organizations\n        const orgsResponse = await fetch('/api/organizations')\n        const orgsResult = await orgsResponse.json()\n        if (orgsResult.status) {\n          organizations.value = orgsResult.data\n        }\n        \n        // Load users\n        const usersResponse = await fetch('/api/users')\n        const usersResult = await usersResponse.json()\n        if (usersResult.status) {\n          users.value = usersResult.data\n        }\n        \n        // Load user-organization assignments\n        for (const org of organizations.value) {\n          const response = await fetch(`/api/organizations/${org.id}/users`)\n          const result = await response.json()\n          if (result.status) {\n            result.data.forEach(user => {\n              userOrganizations.value.push({\n                user_id: user.id,\n                organization_id: org.id,\n                username: user.username,\n                email: user.email,\n                assigned_at: user.assigned_at\n              })\n            })\n          }\n        }\n      } catch (error) {\n        showToast('error', 'Error loading data: ' + error.message)\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    const getOrgUsers = (orgId) => {\n      return userOrganizations.value.filter(uo => uo.organization_id === orgId)\n    }\n    \n    const viewOrgDetails = async (org) => {\n      selectedOrg.value = org\n      try {\n        const response = await fetch(`/api/organizations/${org.id}/users`)\n        const result = await response.json()\n        if (result.status) {\n          orgUsers.value = result.data\n        }\n      } catch (error) {\n        showToast('error', 'Error loading organization users: ' + error.message)\n      }\n      const modal = new bootstrap.Modal(document.getElementById('orgDetailsModal'))\n      modal.show()\n    }\n    \n    const openAssignUserModal = (org = null) => {\n      assignmentForm.value = {\n        user_id: '',\n        organization_id: org ? org.id : ''\n      }\n      const modal = new bootstrap.Modal(document.getElementById('assignUserModal'))\n      modal.show()\n    }\n    \n    const assignUser = async () => {\n      try {\n        const response = await fetch(`/api/organization/users/${assignmentForm.value.user_id}/organizations`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            user_id: assignmentForm.value.user_id,\n            organization_id: assignmentForm.value.organization_id\n          })\n        })\n        \n        const result = await response.json()\n        if (result.status) {\n          showToast('success', result.message)\n          bootstrap.Modal.getInstance(document.getElementById('assignUserModal')).hide()\n          // Reload data\n          userOrganizations.value = []\n          orgUsers.value = []\n          await loadData()\n        } else {\n          showToast('error', result.message)\n        }\n      } catch (error) {\n        showToast('error', 'Error assigning user: ' + error.message)\n      }\n    }\n    \n    const removeUserFromOrg = async (userId) => {\n      if (confirm('Are you sure you want to remove this user from the organization?')) {\n        try {\n          const response = await fetch(`/api/organization/users/${userId}/organizations/${selectedOrg.value.id}`, {\n            method: 'DELETE'\n          })\n          \n          const result = await response.json()\n          if (result.status) {\n            showToast('success', result.message)\n            // Reload data\n            userOrganizations.value = []\n            orgUsers.value = []\n            await loadData()\n          } else {\n            showToast('error', result.message)\n          }\n        } catch (error) {\n          showToast('error', 'Error removing user: ' + error.message)\n        }\n      }\n    }\n    \n    const formatDate = (dateString) => {\n      if (!dateString) return '-'\n      return new Date(dateString).toLocaleDateString()\n    }\n    \n    const showToast = (type, message) => {\n      const toast = document.createElement('div')\n      toast.className = `alert alert-${type === 'error' ? 'danger' : type} alert-dismissible fade show position-fixed`\n      toast.style.top = '20px'\n      toast.style.right = '20px'\n      toast.style.zIndex = '9999'\n      toast.innerHTML = `\n        <i class=\"bi bi-${type === 'success' ? 'check-circle' : 'exclamation-triangle'} me-2\"></i>\n        ${message}\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n      `\n      document.body.appendChild(toast)\n      \n      setTimeout(() => {\n        if (toast.parentNode) {\n          toast.parentNode.removeChild(toast)\n        }\n      }, 5000)\n    }\n    \n    onMounted(() => {\n      loadData()\n    })\n    \n    return {\n      organizations,\n      users,\n      userOrganizations,\n      loading,\n      selectedOrg,\n      orgUsers,\n      assignmentForm,\n      totalAssignments,\n      availableUsers,\n      getOrgUsers,\n      viewOrgDetails,\n      openAssignUserModal,\n      assignUser,\n      removeUserFromOrg,\n      formatDate\n    }\n  }\n}\n</script>\n\n<style scoped>\n.card {\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\n}\n\n.badge {\n  font-size: 0.75rem;\n}\n\n/* Dark mode overrides */\n[data-bs-theme=\"dark\"] .card {\n  background-color: #2d3748 !important;\n  border-color: #4a5568 !important;\n}\n\n[data-bs-theme=\"dark\"] .card-header {\n  background-color: #374151 !important;\n  border-bottom-color: #4a5568 !important;\n}\n\n[data-bs-theme=\"dark\"] .card-title {\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] .table {\n  color: #e2e8f0 !important;\n  background-color: #2d3748 !important;\n}\n\n[data-bs-theme=\"dark\"] .table-hover tbody tr:hover {\n  background-color: #374151 !important;\n}\n\n[data-bs-theme=\"dark\"] .table-light {\n  background-color: #374151 !important;\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] .table-light th {\n  background-color: #374151 !important;\n  color: #e2e8f0 !important;\n  border-bottom-color: #4a5568 !important;\n}\n\n[data-bs-theme=\"dark\"] .table tbody tr {\n  background-color: #2d3748 !important;\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] .table tbody tr td {\n  border-top-color: #4a5568 !important;\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] .text-muted {\n  color: #a0aec0 !important;\n}\n\n[data-bs-theme=\"dark\"] .border {\n  border-color: #4a5568 !important;\n}\n\n[data-bs-theme=\"dark\"] .badge {\n  color: #ffffff !important;\n}\n\n[data-bs-theme=\"dark\"] .modal-content {\n  background-color: #2d3748 !important;\n  border-color: #4a5568 !important;\n}\n\n[data-bs-theme=\"dark\"] .modal-header {\n  background-color: #374151 !important;\n  border-bottom-color: #4a5568 !important;\n}\n\n[data-bs-theme=\"dark\"] .modal-title {\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] .modal-footer {\n  background-color: #374151 !important;\n  border-top-color: #4a5568 !important;\n}\n\n[data-bs-theme=\"dark\"] .form-control {\n  background-color: #374151 !important;\n  border-color: #4a5568 !important;\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] .form-control:focus {\n  background-color: #374151 !important;\n  border-color: #3182ce !important;\n  color: #e2e8f0 !important;\n  box-shadow: 0 0 0 0.2rem rgba(49, 130, 206, 0.25) !important;\n}\n\n[data-bs-theme=\"dark\"] .form-select {\n  background-color: #374151 !important;\n  border-color: #4a5568 !important;\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] .form-select:focus {\n  background-color: #374151 !important;\n  border-color: #3182ce !important;\n  color: #e2e8f0 !important;\n  box-shadow: 0 0 0 0.2rem rgba(49, 130, 206, 0.25) !important;\n}\n\n[data-bs-theme=\"dark\"] .form-label {\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] .btn-close {\n  filter: invert(1) grayscale(100%) brightness(200%) !important;\n}\n\n[data-bs-theme=\"dark\"] h2 {\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] h5 {\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] p {\n  color: #e2e8f0 !important;\n}\n\n[data-bs-theme=\"dark\"] strong {\n  color: #e2e8f0 !important;\n}\n</style>\n\n\n\n\n\n\n\n\n"],"names":["_sfc_main","organizations","ref","users","userOrganizations","loading","selectedOrg","orgUsers","assignmentForm","totalAssignments","computed","availableUsers","assignedUserIds","uo","user","loadData","orgsResult","usersResult","org","result","error","showToast","getOrgUsers","orgId","viewOrgDetails","openAssignUserModal","assignUser","removeUserFromOrg","userId","formatDate","dateString","type","message","toast","onMounted","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_37","_hoisted_39","_hoisted_42","_hoisted_43","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_openBlock","_createElementBlock","_createElementVNode","_createTextVNode","$setup","args","_toDisplayString","_cache","_hoisted_23","_hoisted_24","_Fragment","_renderList","_normalizeStyle","_hoisted_28","_hoisted_29","$event","_hoisted_32","_hoisted_36","_hoisted_38","_hoisted_40","_hoisted_41","_createCommentVNode","_hoisted_44","_withModifiers","_vModelSelect"],"mappings":"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"}