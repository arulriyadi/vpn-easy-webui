{"version":3,"file":"editConfiguration-CnfhCAoG.js","sources":["../../src/components/configurationComponents/deleteConfiguration.vue","../../src/components/configurationComponents/backupRestoreComponents/backup.vue","../../src/components/configurationComponents/configurationBackupRestore.vue","../../src/components/configurationComponents/editConfigurationComponents/updateConfigurationName.vue","../../src/utilities/simple-code-editor/Dropdown.vue","../../src/utilities/simple-code-editor/CodeEditor.vue","../../src/components/configurationComponents/editConfigurationComponents/editRawConfigurationFile.vue","../../src/components/configurationComponents/editConfiguration.vue"],"sourcesContent":["<script setup>\nimport LocaleText from \"@/components/text/localeText.vue\";\nimport {useRoute, useRouter} from \"vue-router\";\nimport {onMounted, ref, useTemplateRef} from \"vue\";\nimport {fetchGet, fetchPost} from \"@/utilities/fetch.js\";\nimport {WireguardConfigurationsStore} from \"@/stores/WireguardConfigurationsStore.js\";\nimport {DashboardConfigurationStore} from \"@/stores/DashboardConfigurationStore.js\";\nconst route = useRoute()\nconst configurationName = route.params.id;\nconst input = ref(\"\")\nconst router = useRouter()\nconst store = DashboardConfigurationStore()\nconst deleting = ref(false)\n\nconst deleteConfiguration = () => {\n\tclearInterval(store.Peers.RefreshInterval)\n\tdeleting.value = true;\n\tfetchPost(\"/api/deleteWireguardConfiguration\", {\n\t\tConfigurationName: configurationName\n\t}, (res) => {\n\t\tif (res.status){\n\t\t\trouter.push('/')\n\t\t\tstore.newMessage(\"Server\", \"Configuration deleted\", \"success\")\n\t\t}else{\n\t\t\tdeleting.value = false;\n\t\t}\n\t})\n}\n\n\nconst loading = ref(true)\nconst backups = ref([])\nconst getBackup = () => {\n\tloading.value = true;\n\tfetchGet(\"/api/getWireguardConfigurationBackup\", {\n\t\tconfigurationName: configurationName\n\t}, (res) => {\n\t\tbackups.value = res.data;\n\t\tloading.value = false;\n\t})\n}\nonMounted(() => {\n\tgetBackup()\n})\nconst emits = defineEmits([\"backup\", \"close\"])\n</script>\n\n<template>\n\t<div class=\"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll\">\n\t\t<div class=\"container d-flex h-100 w-100\">\n\t\t\t<div class=\"m-auto modal-dialog-centered dashboardModal\" style=\"width: 700px\">\n\t\t\t\t<div class=\"card rounded-3 shadow flex-grow-1 bg-danger-subtle border-danger-subtle\" id=\"deleteConfigurationContainer\">\n\t\t\t\t\t<div class=\"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-0\">\n\t\t\t\t\t\t<h5 class=\"mb-0\">\n\t\t\t\t\t\t\t<LocaleText t=\"Are you sure to delete this configuration?\"></LocaleText>\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button type=\"button\" class=\"btn-close ms-auto\" @click=\"emits('close')\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"card-body px-4 text-muted\">\n\t\t\t\t\t\t<p class=\"mb-0\">\n\t\t\t\t\t\t\t<LocaleText t=\"Once you deleted this configuration:\"></LocaleText>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<LocaleText t=\"All connected peers will get disconnected\"></LocaleText>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<LocaleText t=\"Both configuration file (.conf) and database table related to this configuration will get deleted\"></LocaleText>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t \n\t\t\t\t\t\t<div class=\"alert\"\n\t\t\t\t\t\t     :class=\"[loading ? 'alert-secondary' : (backups.length > 0 ? 'alert-success' : 'alert-danger')]\">\n\t\t\t\t\t\t\t<div v-if=\"loading\">\n\t\t\t\t\t\t\t\t<i class=\"bi bi-search me-2\"></i>\n\t\t\t\t\t\t\t\t<LocaleText t=\"Checking backups...\"></LocaleText>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else-if=\"backups.length > 0\">\n\t\t\t\t\t\t\t\t<i class=\"bi bi-check-circle-fill me-2\"></i>\n\t\t\t\t\t\t\t\t<LocaleText :t=\"'This configuration have ' + backups.length + ' backups'\"></LocaleText>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else class=\"d-flex align-items-center gap-2\">\n\t\t\t\t\t\t\t\t<i class=\"bi bi-x-circle-fill me-2\"></i>\n\t\t\t\t\t\t\t\t<LocaleText t=\"This configuration have no backup\"></LocaleText>\n\t\t\t\t\t\t\t\t<a role=\"button\" \n\t\t\t\t\t\t\t\t   @click=\"emits('backup')\"\n\t\t\t\t\t\t\t\t   class=\"ms-auto btn btn-sm btn-primary rounded-3\">\n\t\t\t\t\t\t\t\t\t<i class=\"bi bi-clock-history me-2\"></i>\n\t\t\t\t\t\t\t\t\t<LocaleText t=\"Backup\"></LocaleText>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<a role=\"button\"\n\t\t\t\t\t\t\t\t   @click=\"getBackup()\"\n\t\t\t\t\t\t\t\t   class=\"btn btn-sm btn-primary rounded-3\">\n\t\t\t\t\t\t\t\t\t<i class=\"bi bi-arrow-clockwise\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<LocaleText t=\"If you're sure, please type in the configuration name below and click Delete\"></LocaleText>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<input class=\"form-control rounded-3 mb-3\" \n\t\t\t\t\t\t       :placeholder=\"configurationName\"\n\t\t\t\t\t\t       v-model=\"input\"\n\t\t\t\t\t\t       type=\"text\">\n\t\t\t\t\t\t<button class=\"btn btn-danger w-100\" \n\t\t\t\t\t\t        @click=\"deleteConfiguration()\"\n\t\t\t\t\t\t        :disabled=\"input !== configurationName || deleting\">\n\t\t\t\t\t\t\t<i class=\"bi bi-trash-fill me-2 rounded-3\"></i>\n\t\t\t\t\t\t\t<LocaleText t=\"Delete\" v-if=\"!deleting\"></LocaleText>\n\t\t\t\t\t\t\t<LocaleText t=\"Deleting...\" v-else></LocaleText>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style scoped>\n\n</style>","<script setup>\nimport dayjs from \"dayjs\";\nimport {computed, ref} from \"vue\";\nimport {fetchGet, fetchPost} from \"@/utilities/fetch.js\";\nimport {useRoute} from \"vue-router\";\nimport {DashboardConfigurationStore} from \"@/stores/DashboardConfigurationStore.js\";\nimport LocaleText from \"@/components/text/localeText.vue\";\nconst props = defineProps([\"b\", \"delay\"])\nconst deleteConfirmation = ref(false)\nconst restoreConfirmation = ref(false)\nconst route = useRoute()\nconst emit = defineEmits([\"refresh\", \"refreshPeersList\"])\nconst store = DashboardConfigurationStore()\nconst loading = ref(false);\nconst deleteBackup = () => {\n\tloading.value = true;\n\tfetchPost(\"/api/deleteWireguardConfigurationBackup\", {\n\t\tConfigurationName: route.params.id,\n\t\tBackupFileName: props.b.filename\n\t}, (res) => {\n\t\tloading.value = false;\n\t\tif (res.status){\n\t\t\temit(\"refresh\")\n\t\t\tstore.newMessage(\"Server\", \"Backup deleted\", \"success\")\n\t\t}else{\n\t\t\tstore.newMessage(\"Server\", \"Backup failed to delete\", \"danger\")\n\t\t}\n\t})\n}\n\nconst restoreBackup = () => {\n\tloading.value = true;\n\tfetchPost(\"/api/restoreWireguardConfigurationBackup\", {\n\t\tConfigurationName: route.params.id,\n\t\tBackupFileName: props.b.filename\n\t}, (res) => {\n\t\tloading.value = false;\n\t\trestoreConfirmation.value = false;\n\t\tif (res.status){\n\t\t\temit(\"refreshPeersList\")\n\t\t\tstore.newMessage(\"Server\", \"Backup restored with \" + props.b.filename, \"success\")\n\t\t}else{\n\t\t\tstore.newMessage(\"Server\", \"Backup failed to restore\", \"danger\")\n\t\t}\n\t})\n}\n\nconst downloadBackup = () => {\n\tfetchGet(\"/api/downloadWireguardConfigurationBackup\", {\n\t\tconfigurationName: route.params.id,\n\t\tbackupFileName: props.b.filename\n\t}, (res) => {\n\t\tif (res.status){\n\t\t\twindow.open(`/fileDownload?file=${res.data}`, '_blank')\n\t\t}\n\t})\n}\n\nconst delaySeconds = computed(() => {\n\treturn props.delay + 's'\n})\n\nconst showContent = ref(false);\n</script>\n \n<template>\n\t<div class=\"card my-0 rounded-3\">\n\t\t<div class=\"card-body position-relative\">\n\t\t\t<Transition name=\"zoomReversed\">\n\t\t\t\t<div \n\t\t\t\t\tv-if=\"deleteConfirmation\"\n\t\t\t\t\tclass=\"position-absolute w-100 h-100 confirmationContainer start-0 top-0 rounded-3 d-flex p-2\">\n\t\t\t\t\t<div class=\"m-auto\">\n\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t<LocaleText t=\"Are you sure to delete this backup?\"></LocaleText>\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<div class=\"d-flex gap-2 align-items-center justify-content-center\">\n\t\t\t\t\t\t\t<button class=\"btn btn-danger rounded-3\" \n\t\t\t\t\t\t\t        :disabled=\"loading\"\n\t\t\t\t\t\t\t        @click='deleteBackup()'>\n\t\t\t\t\t\t\t\t<LocaleText t=\"Yes\"></LocaleText>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t@click=\"deleteConfirmation = false\"\n\t\t\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\t\t\tclass=\"btn bg-secondary-subtle text-secondary-emphasis border-secondary-subtle rounded-3\">\n\t\t\t\t\t\t\t\t<LocaleText t=\"No\"></LocaleText>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Transition>\n\t\t\t<Transition name=\"zoomReversed\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"restoreConfirmation\"\n\t\t\t\t\tclass=\"position-absolute w-100 h-100 confirmationContainer start-0 top-0 rounded-3 d-flex p-2\">\n\t\t\t\t\t<div class=\"m-auto\">\n\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t<LocaleText t=\"Are you sure to restore this backup?\"></LocaleText>\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<div class=\"d-flex gap-2 align-items-center justify-content-center\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\t\t\t@click=\"restoreBackup()\"\n\t\t\t\t\t\t\t\tclass=\"btn btn-success rounded-3\">\n\t\t\t\t\t\t\t\t<LocaleText t=\"Yes\"></LocaleText>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t@click=\"restoreConfirmation = false\"\n\t\t\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\t\t\tclass=\"btn bg-secondary-subtle text-secondary-emphasis border-secondary-subtle rounded-3\">\n\t\t\t\t\t\t\t\t<LocaleText t=\"No\"></LocaleText>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Transition>\n\t\t\t<div class=\"d-flex gap-3\">\n\t\t\t\t<div class=\"d-flex flex-column\">\n\t\t\t\t\t<small class=\"text-muted\">\n\t\t\t\t\t\t<LocaleText t=\"Backup\"></LocaleText>\n\t\t\t\t\t</small>\n\t\t\t\t\t<samp>{{b.filename}}</samp>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex flex-column\">\n\t\t\t\t\t<small class=\"text-muted\">\n\t\t\t\t\t\t<LocaleText t=\"Backup Date\"></LocaleText>\n\t\t\t\t\t</small>\n\t\t\t\t\t{{dayjs(b.backupDate, \"YYYYMMDDHHmmss\").format(\"YYYY-MM-DD HH:mm:ss\")}}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex gap-2 align-items-center ms-auto\">\n\t\t\t\t\t<button\n\t\t\t\t\t\t@click=\"downloadBackup()\"\n\t\t\t\t\t\tclass=\"btn bg-primary-subtle text-primary-emphasis border-primary-subtle rounded-3 btn-sm\">\n\t\t\t\t\t\t<i class=\"bi bi-download\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button \n\t\t\t\t\t\t@click=\"restoreConfirmation = true\"\n\t\t\t\t\t\tclass=\"btn bg-warning-subtle text-warning-emphasis border-warning-subtle rounded-3 btn-sm\">\n\t\t\t\t\t\t<i class=\"bi bi-clock-history\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button \n\t\t\t\t\t\t@click=\"deleteConfirmation = true\"\n\t\t\t\t\t\tclass=\"btn bg-danger-subtle text-danger-emphasis border-danger-subtle rounded-3 btn-sm\">\n\t\t\t\t\t\t<i class=\"bi bi-trash-fill\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<hr>\n\t\t\t<div class=\"card rounded-3\">\n\t\t\t\t<a role=\"button\" class=\"card-header d-flex text-decoration-none align-items-center\" \n\t\t\t\t   :class=\"{'border-bottom-0': !showContent}\"\n\t\t\t\t   style=\"cursor: pointer\" @click=\"showContent = !showContent\">\n\t\t\t\t\t<small>.conf <LocaleText t=\"File\"></LocaleText>\n\t\t\t\t\t\t</small>\n\t\t\t\t\t<i class=\"bi bi-chevron-down ms-auto\"></i>\n\t\t\t\t</a>\n\t\t\t\t<div class=\"card-body\" v-if=\"showContent\">\n\t\t\t\t\t<textarea class=\"form-control rounded-3\" :value=\"b.content\"\n\t\t\t\t\t          disabled\n\t\t\t\t\t          style=\"height: 300px; font-family: var(--bs-font-monospace),sans-serif !important;\"></textarea>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<hr>\n\t\t\t<div class=\"d-flex\">\n\t\t\t\t<span>\n\t\t\t\t\t<i class=\"bi bi-database me-1\"></i>\n\t\t\t\t\t<LocaleText t=\"Database File\"></LocaleText>\n\t\t\t\t</span>\n\t\t\t\t<i class=\"bi ms-auto\"\n\t\t\t\t\t:class=\"[b.database ? 'text-success bi-check-circle-fill' : 'text-danger bi-x-circle-fill']\"\n\t\t\t\t></i>\n\t\t\t</div>\n\t\t\t\n\t\t\t\n\t\t</div>\n\t</div>\n</template>\n\n<style scoped>\n.confirmationContainer{\n\tbackground-color: rgba(0, 0, 0, 0.53);\n\tz-index: 9999;\n\tbackdrop-filter: blur(1px);\n\t-webkit-backdrop-filter: blur(1px);\n}\n\n.list1-enter-active{\n\ttransition-delay: v-bind(delaySeconds) !important;\n}\n</style>","<script setup>\nimport {onBeforeUnmount, onMounted, reactive, ref} from \"vue\";\nimport {fetchGet} from \"@/utilities/fetch.js\";\nimport {useRoute} from \"vue-router\";\nimport dayjs from \"dayjs\";\nimport LocaleText from \"@/components/text/localeText.vue\";\nimport Backup from \"@/components/configurationComponents/backupRestoreComponents/backup.vue\";\n\nconst route = useRoute()\nconst backups = ref([])\nconst loading = ref(true)\nconst emit = defineEmits([\"close\", \"refreshPeersList\"])\n\nonMounted(() => {\n\tloadBackup();\n})\n\nconst loadBackup = () => {\n\tloading.value = true\n\tfetchGet(\"/api/getWireguardConfigurationBackup\", {\n\t\tconfigurationName: route.params.id\n\t}, (res) => {\n\t\tbackups.value = res.data;\n\t\tloading.value = false;\n\t})\n}\n\nconst createBackup = () => {\n\tfetchGet(\"/api/createWireguardConfigurationBackup\", {\n\t\tconfigurationName: route.params.id\n\t}, (res) => {\n\t\tbackups.value = res.data;\n\t\tloading.value = false;\n\t})\n}\n</script>\n\n<template>\n<div class=\"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll\" ref=\"editConfigurationContainer\">\n\t<div class=\"d-flex h-100 w-100\">\n\t\t<div class=\"modal-dialog-centered dashboardModal w-100 h-100 overflow-x-scroll flex-column gap-3 mx-3\">\n\t\t\t<div class=\"my-5 d-flex gap-3 flex-column position-relative\">\n\t\t\t\t<div class=\"title\">\n\t\t\t\t\t<div class=\"d-flex mb-3\">\n\t\t\t\t\t\t<h4 class=\"mb-0\">\n\t\t\t\t\t\t\t<LocaleText t=\"Backup & Restore\"></LocaleText>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<button type=\"button\" class=\"btn-close ms-auto\" @click=\"$emit('close')\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button \n\t\t\t\t\t\t@click=\"createBackup()\"\n\t\t\t\t\t\tclass=\"btn bg-primary-subtle text-primary-emphasis border-primary-subtle rounded-3 w-100\">\n\t\t\t\t\t\t<i class=\"bi bi-plus-circle-fill me-2\"></i>\n\t\t\t\t\t\t<LocaleText t=\"Create Backup\"></LocaleText>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"position-relative d-flex flex-column gap-3\">\n\t\t\t\t\t<TransitionGroup name=\"list1\" >\n\t\t\t\t\t\t<div class=\"text-center title\" \n\t\t\t\t\t\t     key=\"spinner\"\n\t\t\t\t\t\t     v-if=\"loading && backups.length === 0\">\n\t\t\t\t\t\t\t<div class=\"spinner-border\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"card my-0 rounded-3\"\n\t\t\t\t\t\t     v-else-if=\"!loading && backups.length === 0\"\n\t\t\t\t\t\t     key=\"noBackups\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"card-body text-center text-muted\">\n\t\t\t\t\t\t\t\t<i class=\"bi bi-x-circle-fill me-2\"></i>\n\t\t\t\t\t\t\t\t<LocaleText t=\"No backup yet, click the button above to create backup.\"></LocaleText>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Backup\n\t\t\t\t\t\t\t@refresh=\"loadBackup()\"\n\t\t\t\t\t\t\t@refreshPeersList=\"emit('refreshPeersList')\"\n\t\t\t\t\t\t\t:b=\"b\" v-for=\"b in backups\"\n\t\t\t\t\t\t\t:key=\"b.filename\"\n\t\t\t\t\t\t></Backup>\n\t\t\t\t\t</TransitionGroup>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n</div>\n</template>\n\n<style scoped>\n.card, .title{\n\twidth: 100%;\n}\n\n@media screen and (min-width: 700px) {\n\t.card, .title{\n\t\twidth: 700px;\n\t}\n}\n\n.animate__fadeInUp{\n\tanimation-timing-function: cubic-bezier(0.42, 0, 0.22, 1.0)\n}\n\n.list1-move, /* apply transition to moving elements */\n.list1-enter-active,\n.list1-leave-active {\n\ttransition: all 0.5s cubic-bezier(0.42, 0, 0.22, 1.0);\n}\n\n\n\n.list1-enter-from,\n.list1-leave-to {\n\topacity: 0;\n\ttransform: translateY(30px);\n}\n\n/* ensure leaving items are taken out of layout flow so that moving\n   animations can be calculated correctly. */\n.list1-leave-active {\n\twidth: 100%;\n\tposition: absolute;\n}\n</style>","<script setup>\nimport {onMounted, reactive, ref, watch} from \"vue\";\nimport {WireguardConfigurationsStore} from \"@/stores/WireguardConfigurationsStore.js\";\nimport LocaleText from \"@/components/text/localeText.vue\";\nimport {fetchPost} from \"@/utilities/fetch.js\";\nimport {useRouter} from \"vue-router\";\nimport {DashboardConfigurationStore} from \"@/stores/DashboardConfigurationStore.js\";\nconst props = defineProps({\n\tconfigurationName: String\n})\nconst emit = defineEmits(['close'])\nconst newConfigurationName = reactive({\n\tdata: \"\",\n\tvalid: false\n});\nconst store = WireguardConfigurationsStore()\n\nonMounted(() => {\n\twatch(() => newConfigurationName.data, (newVal) => {\n\t\tnewConfigurationName.valid = /^[a-zA-Z0-9_=+.-]{1,15}$/.test(newVal) && newVal.length > 0 && !store.Configurations.find(x => x.Name === newVal);\n\t})\n})\nconst dashboardConfigurationStore = DashboardConfigurationStore()\nconst loading = ref(false)\nconst router = useRouter()\nconst rename = async () => {\n\tif (newConfigurationName.data){\n\t\tloading.value = true\n\t\tclearInterval(dashboardConfigurationStore.Peers.RefreshInterval)\n\t\tawait fetchPost(\"/api/renameWireguardConfiguration\", {\n\t\t\tConfigurationName: props.configurationName,\n\t\t\tNewConfigurationName: newConfigurationName.data\n\t\t}, async (res) => {\n\t\t\tif (res.status){\n\t\t\t\tawait store.getConfigurations()\n\t\t\t\tdashboardConfigurationStore.newMessage(\"Server\", \"Configuration renamed\", \"success\")\n\t\t\t\trouter.push(`/configuration/${newConfigurationName.data}/peers`)\n\t\t\t}else{\n\t\t\t\tdashboardConfigurationStore.newMessage(\"Server\", res.message, \"danger\")\n\t\t\t\tloading.value = false\n\t\t\t}\n\t\t\t\n\t\t})\n\t}\n}\n</script>\n\n<template>\n<div class=\"card rounded-3 flex-grow-1 bg-danger-subtle border-danger-subtle border shadow\">\n\t<div class=\"card-body\">\n\t\t<p>\n\t\t\t<LocaleText t=\"To update this configuration's name, WGDashboard will execute the following operations:\"></LocaleText>\n\t\t</p>\n\t\t<ol>\n\t\t\t<li>\n\t\t\t\t<LocaleText t=\"Duplicate current configuration's database table and .conf file with the new name\"></LocaleText>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<LocaleText t=\"Delete current configuration's database table and .conf file\"></LocaleText>\n\t\t\t</li>\n\t\t</ol>\n\t\t<div class=\"d-flex align-items-center gap-3 inputGroup\">\n\t\t\t<input class=\"form-control form-control-sm rounded-3\" :value=\"configurationName\" disabled>\n\t\t\t<h3 class=\"mb-0\">\n\t\t\t\t<i class=\"bi bi-arrow-right\"></i>\n\t\t\t</h3>\n\t\t\t<input class=\"form-control form-control-sm rounded-3\"\n\t\t\t       id=\"newConfigurationName\"\n\t\t\t       :class=\"[newConfigurationName.data ? (newConfigurationName.valid ? 'is-valid' : 'is-invalid') : '']\"\n\t\t\t       v-model=\"newConfigurationName.data\">\n\t\t</div>\n\t\t<div class=\"invalid-feedback\" :class=\"{'d-block': !newConfigurationName.valid && newConfigurationName.data}\">\n\t\t\t<LocaleText t=\"Configuration name is invalid. Possible reasons:\"></LocaleText>\n\t\t\t<ul class=\"mb-0\">\n\t\t\t\t<li>\n\t\t\t\t\t<LocaleText t=\"Configuration name already exist\"></LocaleText>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<LocaleText t=\"Configuration name can only contain 15 lower/uppercase alphabet, numbers, underscore, equal sign, plus sign, period and hyphen.\"></LocaleText>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class=\"d-flex mt-3\">\n\t\t\t<button\n\t\t\t\t@click=\"emit('close')\"\n\t\t\t\tclass=\"btn btn-sm bg-secondary-subtle border-secondary-subtle text-secondary-emphasis rounded-3\">\n\t\t\t\t<LocaleText t=\"Cancel\"></LocaleText>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\t@click=\"rename()\"\n\t\t\t\t:disabled=\"!newConfigurationName.data || loading\"\n\t\t\t\tclass=\"btn btn-sm btn-danger rounded-3 ms-auto\">\n\t\t\t\t<LocaleText t=\"Save\"></LocaleText>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n</template>\n\n<style scoped>\n@media screen and (max-width: 567px) {\n\t.inputGroup{\n\t\tflex-direction: column;\n\t\t\n\t\th3{\n\t\t\ttransform: rotate(90deg);\n\t\t}\n\t}\n}\n</style>","<template>\r\n  <div class=\"dropdown\" :class=\"{ disabled: disabled }\" @click=\"toggleDropdown\" @focusout=\"hideDropdown\" tabindex=\"0\">\r\n    <div class=\"title\">\r\n      <div>{{ title }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Dropdown\",\r\n  props: {\r\n    width: {\r\n      type: String,\r\n      default: \"80px\",\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: \"auto\",\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    defaultDisplay: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.code-editor .disabled:hover > .title {\r\n  opacity: 0.5 !important;\r\n}\r\n.code-editor .dropdown:hover > .title {\r\n  opacity: 1;\r\n}\r\n.code-editor .dropdown > .title {\r\n  transition: opacity 0.2s ease;\r\n  opacity: 0.5;\r\n  display: flex;\r\n  align-items: center;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.code-editor .dropdown > .title > div {\r\n  white-space: nowrap;\r\n  font-size: 12px;\r\n  line-height: 16px;\r\n}\r\n.code-editor .dropdown > .title > svg {\r\n  transition: 0.2s;\r\n  margin-left: 3px;\r\n  margin-top: 1px;\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    :theme=\"theme\"\r\n    class=\"code-editor\"\r\n    :class=\"{\r\n      'hide-header': !header,\r\n      scroll: scroll,\r\n      'read-only': readOnly,\r\n      wrap: wrap,\r\n    }\"\r\n    :style=\"{\r\n      width: width,\r\n      height: height,\r\n      zIndex: zIndex,\r\n      maxWidth: maxWidth,\r\n      minWidth: minWidth,\r\n      maxHeight: maxHeight,\r\n      minHeight: minHeight,\r\n    }\"\r\n  >\r\n    <div class=\"hljs\" :style=\"{ borderRadius: borderRadius }\">\r\n      <div\r\n        class=\"header\"\r\n        :class=\"{ border: showLineNums }\"\r\n        v-if=\"header\"\r\n        :style=\"{ borderRadius: borderRadius + ' ' + borderRadius + ' 0 0' }\"\r\n      >\r\n        <Dropdown\r\n          v-if=\"displayLanguage\"\r\n          :width=\"langListWidth\"\r\n          :title=\"languageTitle\"\r\n          :disabled=\"languages.length <= 1\"\r\n          :defaultDisplay=\"langListDisplay\"\r\n        >\r\n        </Dropdown>\r\n      </div>\r\n      <div\r\n        class=\"code-area\"\r\n        :style=\"{ borderRadius: header ? '0 0 ' + borderRadius + ' ' + borderRadius : borderRadius }\"\r\n      >\r\n        <div\r\n          v-if=\"showLineNums\"\r\n          ref=\"lineNums\"\r\n          class=\"line-nums hljs\"\r\n          :style=\"{\r\n            fontSize: fontSize,\r\n            paddingTop: header ? '10px' : padding,\r\n            paddingBottom: padding,\r\n            top: top + 'px',\r\n          }\"\r\n        >\r\n          <div>1</div>\r\n          <div v-for=\"num in lineNum\">{{ num + 1 }}</div>\r\n          <div>&nbsp;</div>\r\n        </div>\r\n        <textarea\r\n          title=\"textarea\"\r\n          :readOnly=\"readOnly\"\r\n          :style=\"{\r\n            fontSize: fontSize,\r\n            padding: !header ? padding : lineNums ? '10px ' + padding + ' ' + padding : '0 ' + padding + ' ' + padding,\r\n            marginLeft: showLineNums ? lineNumsWidth + 'px' : '0',\r\n            width: showLineNums ? 'calc(100% - ' + lineNumsWidth + 'px)' : '100%',\r\n          }\"\r\n          ref=\"textarea\"\r\n          :autofocus=\"autofocus\"\r\n          spellcheck=\"false\"\r\n          @keydown.tab.prevent.stop=\"tab\"\r\n          @scroll=\"calcScrollDistance\"\r\n          :value=\"modelValue == undefined ? content : modelValue\"\r\n          @input=\"updateValue\"\r\n        ></textarea>\r\n        <pre\r\n          :style=\"{\r\n            paddingRight: scrollBarWidth + 'px',\r\n            paddingBottom: scrollBarHeight + 'px',\r\n            marginLeft: showLineNums ? lineNumsWidth + 'px' : '0',\r\n            width: showLineNums ? 'calc(100% - ' + lineNumsWidth + 'px)' : '100%',\r\n          }\"\r\n        >\r\n        <code\r\n          ref=\"code\"\r\n          v-highlight=\"contentValue\"\r\n          :class=\"languageClass\"\r\n          :style=\"{\r\n            top: top + 'px',\r\n            left: left + 'px',\r\n            fontSize: fontSize,\r\n            padding: !header ? padding : lineNums ? '10px ' + padding + ' ' + padding : '0 ' + padding + ' ' + padding,\r\n          }\">\r\n        </code>\r\n      </pre>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Dropdown from \"./Dropdown.vue\";\r\nimport \"./themes/themes.css\";\r\n\r\nexport default {\r\n  components: {\r\n    Dropdown,\r\n  },\r\n  name: \"CodeEditor\",\r\n  props: {\r\n    lineNums: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    modelValue: {\r\n      type: String,\r\n    },\r\n    value: {\r\n      type: String,\r\n    },\r\n    theme: {\r\n      type: String,\r\n      default: \"github-dark\",\r\n    },\r\n    tabSpaces: {\r\n      type: Number,\r\n      default: 2,\r\n    },\r\n    wrap: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    readOnly: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    autofocus: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    header: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: \"540px\",\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: \"auto\",\r\n    },\r\n    maxWidth: {\r\n      type: String,\r\n    },\r\n    minWidth: {\r\n      type: String,\r\n    },\r\n    maxHeight: {\r\n      type: String,\r\n    },\r\n    minHeight: {\r\n      type: String,\r\n    },\r\n    borderRadius: {\r\n      type: String,\r\n      default: \"12px\",\r\n    },\r\n    languages: {\r\n      type: Array,\r\n      default: function () {\r\n        return [[\"javascript\", \"JS\"]];\r\n      },\r\n    },\r\n    langListWidth: {\r\n      type: String,\r\n      default: \"110px\",\r\n    },\r\n    langListHeight: {\r\n      type: String,\r\n      default: \"auto\",\r\n    },\r\n    langListDisplay: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    displayLanguage: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    zIndex: {\r\n      type: String,\r\n      default: \"0\",\r\n    },\r\n    fontSize: {\r\n      type: String,\r\n      default: \"17px\",\r\n    },\r\n    padding: {\r\n      type: String,\r\n      default: \"20px\",\r\n    },\r\n  },\r\n  directives: {\r\n    highlight: {\r\n      mounted(el, binding) {\r\n        el.textContent = binding.value;\r\n        // hljs.highlightElement(el);\r\n      },\r\n      updated(el, binding) {\r\n        if (el.scrolling) {\r\n          el.scrolling = false;\r\n        } else {\r\n          el.textContent = binding.value;\r\n          // hljs.highlightElement(el);\r\n        }\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      scrollBarWidth: 0,\r\n      scrollBarHeight: 0,\r\n      top: 0,\r\n      left: 0,\r\n      languageClass: \"hljs language-\" + this.languages[0][0],\r\n      languageTitle: this.languages[0][1] ? this.languages[0][1] : this.languages[0][0],\r\n      content: this.value,\r\n      cursorPosition: 0,\r\n      insertTab: false,\r\n      lineNum: 0,\r\n      lineNumsWidth: 0,\r\n      scrolling: false,\r\n      textareaHeight: 0,\r\n      showLineNums: this.wrap ? false : this.lineNums,\r\n    };\r\n  },\r\n  computed: {\r\n    tabWidth() {\r\n      let result = \"\";\r\n      for (let i = 0; i < this.tabSpaces; i++) {\r\n        result += \" \";\r\n      }\r\n      return result;\r\n    },\r\n    contentValue() {\r\n      return this.modelValue == undefined ? this.content + \"\\n\" : this.modelValue + \"\\n\";\r\n    },\r\n    scroll() {\r\n      return this.height == \"auto\" ? false : true;\r\n    },\r\n  },\r\n  methods: {\r\n    updateValue(e) {\r\n      if (this.modelValue == undefined) {\r\n        this.content = e.target.value;\r\n      } else {\r\n        this.$emit(\"update:modelValue\", e.target.value);\r\n      }\r\n    },\r\n    changeLang(lang) {\r\n      this.languageTitle = lang[1] ? lang[1] : lang[0];\r\n      this.languageClass = \"language-\" + lang[0];\r\n      this.$emit(\"lang\", lang[0]);\r\n    },\r\n    tab() {\r\n      if (document.execCommand(\"insertText\")) {\r\n        document.execCommand(\"insertText\", false, this.tabWidth);\r\n      } else {\r\n        const cursorPosition = this.$refs.textarea.selectionStart;\r\n        this.content =\r\n          this.content.substring(0, cursorPosition) + this.tabWidth + this.content.substring(cursorPosition);\r\n        this.cursorPosition = cursorPosition + this.tabWidth.length;\r\n        this.insertTab = true;\r\n      }\r\n    },\r\n    calcScrollDistance(e) {\r\n      this.$refs.code.scrolling = true;\r\n      this.scrolling = true;\r\n      this.top = -e.target.scrollTop;\r\n      this.left = -e.target.scrollLeft;\r\n    },\r\n    resizer() {\r\n      // textareaResizer\r\n      const textareaResizer = new ResizeObserver((entries) => {\r\n        this.scrollBarWidth = entries[0].target.offsetWidth - entries[0].target.clientWidth;\r\n        this.scrollBarHeight = entries[0].target.offsetHeight - entries[0].target.clientHeight;\r\n        this.textareaHeight = entries[0].target.offsetHeight;\r\n      });\r\n      textareaResizer.observe(this.$refs.textarea);\r\n      // lineNumsResizer\r\n      const lineNumsResizer = new ResizeObserver((entries) => {\r\n        this.lineNumsWidth = entries[0].target.offsetWidth;\r\n      });\r\n      if (this.$refs.lineNums) {\r\n        lineNumsResizer.observe(this.$refs.lineNums);\r\n      }\r\n    },\r\n    copy() {\r\n      if (document.execCommand(\"copy\")) {\r\n        this.$refs.textarea.select();\r\n        document.execCommand(\"copy\");\r\n        window.getSelection().removeAllRanges();\r\n      } else {\r\n        navigator.clipboard.writeText(this.$refs.textarea.value);\r\n      }\r\n    },\r\n    getLineNum() {\r\n      // lineNum\r\n      const str = this.$refs.textarea.value;\r\n      let lineNum = 0;\r\n      let position = str.indexOf(\"\\n\");\r\n      while (position !== -1) {\r\n        lineNum++;\r\n        position = str.indexOf(\"\\n\", position + 1);\r\n      }\r\n      // heightNum\r\n      const singleLineHeight = this.$refs.lineNums.firstChild.offsetHeight;\r\n      const heightNum = parseInt(this.textareaHeight / singleLineHeight) - 1;\r\n      // displayed lineNum\r\n      this.lineNum = this.height == \"auto\" ? lineNum : lineNum > heightNum ? lineNum : heightNum;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$emit(\"lang\", this.languages[0][0]);\r\n    this.$emit(\"content\", this.content);\r\n    this.$emit(\"textarea\", this.$refs.textarea);\r\n    this.resizer();\r\n  },\r\n  updated() {\r\n    if (this.insertTab) {\r\n      this.$refs.textarea.setSelectionRange(this.cursorPosition, this.cursorPosition);\r\n      this.insertTab = false;\r\n    }\r\n    if (this.lineNums) {\r\n      if (this.scrolling) {\r\n        this.scrolling = false;\r\n      } else {\r\n        this.getLineNum();\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.code-editor {\r\n  position: relative;\r\n}\r\n.code-editor > div {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n/* header */\r\n.code-editor .header {\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  z-index: 1;\r\n  height: 34px;\r\n}\r\n.code-editor .header > .dropdown {\r\n  position: absolute;\r\n  top: 12px;\r\n  left: 18px;\r\n}\r\n.code-editor .header > .copy-code {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 12px;\r\n}\r\n/* code-area */\r\n.code-editor .code-area {\r\n  position: relative;\r\n  z-index: 0;\r\n  text-align: left;\r\n  overflow: hidden;\r\n}\r\n/* font style */\r\n.code-editor .code-area > textarea,\r\n.code-editor .code-area > pre > code,\r\n.code-editor .line-nums > div {\r\n  font-family: Consolas, Monaco, monospace;\r\n  line-height: 1.5;\r\n}\r\n.code-editor .code-area > textarea:hover,\r\n.code-editor .code-area > textarea:focus-visible {\r\n  outline: none;\r\n}\r\n.code-editor .code-area > textarea {\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 0;\r\n  left: 0;\r\n  overflow-y: hidden;\r\n  box-sizing: border-box;\r\n  caret-color: rgb(127, 127, 127);\r\n  color: transparent;\r\n  white-space: pre;\r\n  word-wrap: normal;\r\n  border: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: none;\r\n  resize: none;\r\n\t\r\n\t&[readOnly] ~ pre{\r\n\t\tfilter: brightness(0.7);\r\n\t}\r\n}\r\n.code-editor .code-area > pre {\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  z-index: 0;\r\n  overflow: hidden;\r\n  font-size: 0;\r\n  margin: 0;\r\n}\r\n.code-editor .code-area > pre > code {\r\n  background: none;\r\n  display: block;\r\n  position: relative;\r\n  overflow-x: visible !important;\r\n  border-radius: 0;\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n}\r\n/* wrap code */\r\n.code-editor.wrap .code-area > textarea,\r\n.code-editor.wrap .code-area > pre > code {\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n}\r\n/* hide-header */\r\n.code-editor.hide-header.scroll .code-area {\r\n  height: 100%;\r\n}\r\n/* scroll */\r\n.code-editor.scroll .code-area {\r\n  height: calc(100% - 34px);\r\n}\r\n.code-editor.scroll .code-area > textarea {\r\n  overflow: auto;\r\n}\r\n.code-editor.scroll .code-area > pre {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n/* dropdown */\r\n.code-editor .list {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  height: 100%;\r\n  font-family: sans-serif;\r\n}\r\n.code-editor .list > .lang-list {\r\n  border-radius: 5px;\r\n  box-sizing: border-box;\r\n  overflow: auto;\r\n  font-size: 13px;\r\n  padding: 0;\r\n  margin: 0;\r\n  list-style: none;\r\n  text-align: left;\r\n}\r\n.code-editor .list > .lang-list > li {\r\n  font-size: 13px;\r\n  transition: background 0.16s ease, color 0.16s ease;\r\n  box-sizing: border-box;\r\n  padding: 0 12px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  line-height: 30px;\r\n}\r\n.code-editor .list > .lang-list > li:first-child {\r\n  padding-top: 5px;\r\n}\r\n.code-editor .list > .lang-list > li:last-child {\r\n  padding-bottom: 5px;\r\n}\r\n.code-editor .list > .lang-list > li:hover {\r\n  background: rgba(160, 160, 160, 0.4);\r\n}\r\n/* line-nums */\r\n.code-editor .line-nums {\r\n  min-width: 36px;\r\n  text-align: right;\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  left: 0;\r\n  padding-right: 8px;\r\n  padding-left: 8px;\r\n  opacity: 0.3;\r\n}\r\n.code-editor .line-nums::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  border-right: 1px solid currentColor;\r\n  opacity: 0.5;\r\n}\r\n.code-editor .header.border::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 1px;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: currentColor;\r\n  opacity: 0.15;\r\n}\r\n</style>\r\n","<script setup>\nimport LocaleText from \"@/components/text/localeText.vue\";\nimport CodeEditor from \"@/utilities/simple-code-editor/CodeEditor.vue\";\nimport {fetchGet, fetchPost} from \"@/utilities/fetch.js\";\nimport {useRoute} from \"vue-router\";\nimport {ref} from \"vue\";\nimport {DashboardConfigurationStore} from \"@/stores/DashboardConfigurationStore.js\";\nconst emits = defineEmits(['close'])\nconst route = useRoute()\n\nconst content = ref(\"\")\nconst path = ref(\"\")\nconst error = ref(false)\nconst errorMessage = ref(\"\")\n\nconst getRaw = async () => {\n\tawait fetchGet('/api/getWireguardConfigurationRawFile', {\n\t\tconfigurationName: route.params.id\n\t}, (res) => {\n\t\tcontent.value = res.data.content\n\t\tpath.value = res.data.path\n\t})\n}\n\nawait getRaw()\nconst dashboardStore = DashboardConfigurationStore();\nconst saving = ref(false)\n\nconst saveRaw = async () => {\n\tsaving.value = true\n\tawait fetchPost('/api/updateWireguardConfigurationRawFile', {\n\t\tconfigurationName: route.params.id,\n\t\trawConfiguration: content.value\n\t}, (res) => {\n\t\tif (res.status){\n\t\t\terror.value = false\n\t\t\tdashboardStore.newMessage(\"Server\", \"Configuration saved\", \"success\")\n\t\t}else{\n\t\t\terror.value = true\n\t\t\terrorMessage.value = res.message\n\t\t}\n\t\tsaving.value = false\n\t})\n}\n</script>\n\n<template>\n\t<div class=\"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll\">\n\t\t<div class=\"container d-flex h-100 w-100\">\n\t\t\t<div class=\"m-auto modal-dialog-centered dashboardModal\" style=\"width: 1000px\">\n\t\t\t\t<div class=\"card rounded-3 shadow flex-grow-1\" id=\"deleteConfigurationContainer\">\n\t\t\t\t\t<div class=\"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-0\">\n\t\t\t\t\t\t<h5 class=\"mb-0\">\n\t\t\t\t\t\t\t<LocaleText t=\"Edit Raw Configuration File\"></LocaleText>\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button type=\"button\" class=\"btn-close ms-auto\" @click=\"emits('close')\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"card-body px-4 d-flex flex-column gap-3\">\n\t\t\t\t\t\t<div class=\"alert alert-danger rounded-3 mb-0\" v-if=\"error\">\n\t\t\t\t\t\t\t<div class=\"mb-2\">\n\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t<LocaleText t=\"Failed to save configuration. Please see the following error message:\"></LocaleText>\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"bg-body w-100 p-2 rounded-3\">\n\t\t\t\t\t\t\t\t<pre>{{errorMessage}}</pre>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<CodeEditor\n\t\t\t\t\t\t\t:disabled=\"true\"\n\t\t\t\t\t\t\t:read-only=\"saving\"\n\t\t\t\t\t\t\tv-model=\"content\"\n\t\t\t\t\t\t\t:theme=\"dashboardStore.Configuration?.Server?.dashboard_theme === 'dark' ? 'github-dark':'github'\"\n\t\t\t\t\t\t\t:languages=\"[['ini', path]]\"\n\t\t\t\t\t\t\twidth=\"100%\" height=\"600px\">\n\t\t\t\t\t\t</CodeEditor>\n\t\t\t\t\t\t<div class=\"d-flex gap-2\">\n\t\t\t\t\t\t\t<button class=\"btn bg-secondary-subtle border-secondary-subtle text-secondary-emphasis rounded-3 shadow ms-auto px-3 py-2\"\n\t\t\t\t\t\t\t        :disabled=\"saving\"\n\t\t\t\t\t\t\t        @click=\"getRaw()\">\n\t\t\t\t\t\t\t\t<i class=\"bi bi-arrow-clockwise me-2\"></i>\n\t\t\t\t\t\t\t\t<LocaleText t=\"Reset\"></LocaleText>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t@click=\"saveRaw()\"\n\t\t\t\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t\t\t\tclass=\"btn bg-danger-subtle border-danger-subtle text-danger-emphasis rounded-3 px-3 py-2 shadow\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class=\"bi bi-save-fill me-2\"></i>\n\t\t\t\t\t\t\t\t<LocaleText t=\"Save\" v-if=\"!saving\"></LocaleText>\n\t\t\t\t\t\t\t\t<LocaleText t=\"Saving...\" v-else></LocaleText>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style scoped>\n\n</style>","<script setup>\nimport LocaleText from \"@/components/text/localeText.vue\";\nimport {onMounted, reactive, ref, useTemplateRef, watch} from \"vue\";\nimport {WireguardConfigurationsStore} from \"@/stores/WireguardConfigurationsStore.js\";\nimport {fetchPost} from \"@/utilities/fetch.js\";\nimport {DashboardConfigurationStore} from \"@/stores/DashboardConfigurationStore.js\";\nimport UpdateConfigurationName\n\tfrom \"@/components/configurationComponents/editConfigurationComponents/updateConfigurationName.vue\";\nimport EditRawConfigurationFile\n\tfrom \"@/components/configurationComponents/editConfigurationComponents/editRawConfigurationFile.vue\";\nimport DeleteConfiguration from \"@/components/configurationComponents/deleteConfiguration.vue\";\nimport ConfigurationBackupRestore from \"@/components/configurationComponents/configurationBackupRestore.vue\";\nconst props = defineProps({\n\tconfigurationInfo: Object\n})\nconst wgStore = WireguardConfigurationsStore()\nconst store = DashboardConfigurationStore()\nconst saving = ref(false)\nconst data = reactive(JSON.parse(JSON.stringify(props.configurationInfo)))\nconst editPrivateKey = ref(false)\nconst dataChanged = ref(false)\nconst reqField = reactive({\n\tPrivateKey: true,\n\tIPAddress: true,\n\tListenPort: true\n})\nconst genKey = () => {\n\tif (wgStore.checkWGKeyLength(data.PrivateKey)){\n\t\treqField.PrivateKey = true;\n\t\tdata.PublicKey = window.wireguard.generatePublicKey(data.PrivateKey)\n\t}else{\n\t\treqField.PrivateKey = false;\n\t}\n}\nconst resetForm = () => {\n\tdataChanged.value = false;\n\tObject.assign(data, JSON.parse(JSON.stringify(props.configurationInfo)))\n}\nconst emit = defineEmits([\"changed\", \"close\", \"refresh\", \"dataChanged\"])\nconst saveForm = ()  => {\n\tsaving.value = true\n\tfetchPost(\"/api/updateWireguardConfiguration\", data, (res) => {\n\t\tsaving.value = false\n\t\tif (res.status){\n\t\t\tstore.newMessage(\"Server\", \"Configuration saved\", \"success\")\n\t\t\tdataChanged.value = false\n\t\t\temit(\"dataChanged\", res.data)\n\t\t\t\n\t\t}else{\n\t\t\tstore.newMessage(\"Server\", res.message, \"danger\")\n\t\t}\n\t})\n}\nconst updateConfigurationName = ref(false)\n\nwatch(data, () => {\n\tdataChanged.value = JSON.stringify(data) !== JSON.stringify(props.configurationInfo);\n}, {\n\tdeep: true\n})\n\nconst editRawConfigurationFileModal = ref(false)\nconst backupRestoreModal = ref(false)\nconst deleteConfigurationModal = ref(false)\n\n\n</script>\n\n<template>\n\t<div class=\"peerSettingContainer w-100 h-100 position-absolute top-0 start-0\" ref=\"editConfigurationContainer\">\n\t\t<div class=\"w-100 h-100  overflow-y-scroll\">\n\t\t\t<TransitionGroup name=\"zoom\">\n\t\t\t\t<EditRawConfigurationFile\n\t\t\t\t\tname=\"EditRawConfigurationFile\"\n\t\t\t\t\tv-if=\"editRawConfigurationFileModal\"\n\t\t\t\t\t@close=\"editRawConfigurationFileModal = false\">\n\t\t\t\t</EditRawConfigurationFile>\n\t\t\t\t<DeleteConfiguration\n\t\t\t\t\tkey=\"DeleteConfiguration\"\n\t\t\t\t\t@backup=\"backupRestoreModal = true\"\n\t\t\t\t\t@close=\"deleteConfigurationModal = false\"\n\t\t\t\t\tv-if=\"deleteConfigurationModal\">\n\t\t\t\t</DeleteConfiguration>\n\t\t\t\t<ConfigurationBackupRestore\n\t\t\t\t\t@close=\"backupRestoreModal = false\"\n\t\t\t\t\t@refreshPeersList=\"emit('refresh')\"\n\t\t\t\t\tv-if=\"backupRestoreModal\">\n\t\t\t\t</ConfigurationBackupRestore>\n\t\t\t</TransitionGroup>\n\n\t\t\t<div class=\"container d-flex h-100 w-100\">\n\t\t\t\t<div class=\"m-auto modal-dialog-centered dashboardModal\" style=\"width: 700px\">\n\t\t\t\t\t<div class=\"card rounded-3 shadow flex-grow-1\">\n\t\t\t\t\t\t<div class=\"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4\">\n\t\t\t\t\t\t\t<h4 class=\"mb-0\">\n\t\t\t\t\t\t\t\t<LocaleText t=\"Configuration Settings\"></LocaleText>\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn-close ms-auto\" @click=\"$emit('close')\"></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"card-body px-4 pb-4\">\n\t\t\t\t\t\t\t<div class=\"d-flex gap-2 flex-column\">\n\t\t\t\t\t\t\t\t<div class=\"d-flex align-items-center gap-3\" v-if=\"!updateConfigurationName\">\n\t\t\t\t\t\t\t\t\t<small class=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Name\"></LocaleText>\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t<small>{{data.Name}}</small>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t@click=\"updateConfigurationName = true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-sm bg-danger-subtle border-danger-subtle text-danger-emphasis rounded-3 ms-auto\">\n\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Update Name\"></LocaleText>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<UpdateConfigurationName\n\t\t\t\t\t\t\t\t\t@close=\"updateConfigurationName = false\"\n\t\t\t\t\t\t\t\t\t:configuration-name=\"data.Name\"\n\t\t\t\t\t\t\t\t\tv-if=\"updateConfigurationName\"></UpdateConfigurationName>\n\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t<hr>\n\t\t\t\t\t\t\t\t\t<div class=\"d-flex align-items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t<small class=\"text-muted\" style=\"word-break: keep-all\">\n\t\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Public Key\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t<small class=\"ms-auto\"  style=\"word-break: break-all\">\n\t\t\t\t\t\t\t\t\t\t\t{{data.PublicKey}}\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<hr>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"d-flex\">\n\t\t\t\t\t\t\t\t\t\t\t<label for=\"configuration_private_key\" class=\"form-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<small class=\"text-muted d-block\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Private Key\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-check form-switch ms-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input class=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t       type=\"checkbox\" role=\"switch\" id=\"editPrivateKeySwitch\"\n\t\t\t\t\t\t\t\t\t\t\t\t       v-model=\"editPrivateKey\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"form-check-label\" for=\"editPrivateKeySwitch\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<small>Edit</small>\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-sm rounded-3\"\n\t\t\t\t\t\t\t\t\t\t       :disabled=\"saving || !editPrivateKey\"\n\t\t\t\t\t\t\t\t\t\t       :class=\"{'is-invalid': !reqField.PrivateKey}\"\n\t\t\t\t\t\t\t\t\t\t       @keyup=\"genKey()\"\n\t\t\t\t\t\t\t\t\t\t       v-model=\"data.PrivateKey\"\n\t\t\t\t\t\t\t\t\t\t       id=\"configuration_private_key\">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<label for=\"configuration_ipaddress_cidr\" class=\"form-label\">\n\t\t\t\t\t\t\t\t\t\t\t<small class=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"IP Address/CIDR\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-sm rounded-3\"\n\t\t\t\t\t\t\t\t\t\t       :disabled=\"saving\"\n\t\t\t\t\t\t\t\t\t\t       v-model=\"data.Address\"\n\t\t\t\t\t\t\t\t\t\t       id=\"configuration_ipaddress_cidr\">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<label for=\"configuration_listen_port\" class=\"form-label\">\n\t\t\t\t\t\t\t\t\t\t\t<small class=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Listen Port\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control form-control-sm rounded-3\"\n\t\t\t\t\t\t\t\t\t\t       :disabled=\"saving\"\n\t\t\t\t\t\t\t\t\t\t       v-model=\"data.ListenPort\"\n\t\t\t\t\t\t\t\t\t\t       id=\"configuration_listen_port\">\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"accordion mt-2\" id=\"editConfigurationOptionalAccordion\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"accordion-item\">\n\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"accordion-header\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"accordion-button collapsed px-3 py-2\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#editOptionalAccordionCollapse\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<small class=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Optional Settings\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"editOptionalAccordionCollapse\"\n\t\t\t\t\t\t\t\t\t\t\t     class=\"accordion-collapse collapse\" data-bs-parent=\"#editConfigurationOptionalAccordion\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"accordion-body d-flex flex-column gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-for=\"key in ['Table', 'PreUp', 'PreDown', 'PostUp', 'PostDown']\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label :for=\"'configuration_' + key\" class=\"form-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LocaleText :t=\"key\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-sm rounded-3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       :disabled=\"saving\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       v-model=\"data[key]\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       :id=\"'configuration_' + key\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-for=\"key in ['Jc', 'Jmin', 'Jmax', 'S1', 'S2', 'H1', 'H2', 'H3', 'H4']\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t     v-if=\"configurationInfo.Protocol === 'awg'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label :for=\"'configuration_' + key\" class=\"form-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LocaleText :t=\"key\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control form-control-sm rounded-3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       :disabled=\"saving\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       v-model=\"data[key]\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       :id=\"'configuration_' + key\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div class=\"d-flex align-items-center gap-2 mt-4\">\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn bg-secondary-subtle border-secondary-subtle text-secondary-emphasis rounded-3 shadow ms-auto\"\n\t\t\t\t\t\t\t\t\t\t        @click=\"resetForm()\"\n\t\t\t\t\t\t\t\t\t\t        :disabled=\"!dataChanged || saving\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"bi bi-arrow-clockwise me-2\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Reset\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn bg-primary-subtle border-primary-subtle text-primary-emphasis rounded-3 shadow\"\n\t\t\t\t\t\t\t\t\t\t        :disabled=\"!dataChanged || saving\"\n\t\t\t\t\t\t\t\t\t\t        @click=\"saveForm()\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"bi bi-save-fill me-2\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Save\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<hr>\n\t\t\t\t\t\t\t\t\t<h5 class=\"mb-3\">\n\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Danger Zone\"></LocaleText>\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t<div class=\"d-flex gap-2 flex-column\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t@click=\"backupRestoreModal = true\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn bg-warning-subtle border-warning-subtle text-warning-emphasis rounded-3 text-start d-flex\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"bi bi-copy me-auto\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Backup & Restore\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t@click=\"editRawConfigurationFileModal = true\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn bg-warning-subtle border-warning-subtle text-warning-emphasis rounded-3 d-flex\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"bi bi-pen me-auto\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Edit Raw Configuration File\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t@click=\"deleteConfigurationModal = true\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn bg-danger-subtle border-danger-subtle text-danger-emphasis rounded-3 d-flex mt-4\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"bi bi-trash-fill me-auto\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"Delete Configuration\"></LocaleText>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style scoped>\n\n</style>"],"names":["configurationName","useRoute","input","ref","router","useRouter","store","DashboardConfigurationStore","deleting","deleteConfiguration","fetchPost","res","loading","backups","getBackup","fetchGet","onMounted","emits","__emit","props","__props","deleteConfirmation","restoreConfirmation","route","emit","deleteBackup","restoreBackup","downloadBackup","delaySeconds","computed","showContent","loadBackup","createBackup","newConfigurationName","reactive","WireguardConfigurationsStore","watch","newVal","x","dashboardConfigurationStore","rename","_sfc_main","_hoisted_1","_createElementBlock","_normalizeClass","$props","_ctx","args","_createElementVNode","Dropdown","el","binding","result","i","e","lang","cursorPosition","entries","lineNumsResizer","str","lineNum","position","singleLineHeight","heightNum","_hoisted_2","$options","_normalizeStyle","$data","_createBlock","_component_Dropdown","_createCommentVNode","_cache","_openBlock","_Fragment","_renderList","num","_withKeys","_withModifiers","_createTextVNode","content","path","error","errorMessage","getRaw","__temp","__restore","_withAsyncContext","dashboardStore","saving","saveRaw","wgStore","data","editPrivateKey","dataChanged","reqField","genKey","resetForm","saveForm","updateConfigurationName","editRawConfigurationFileModal","backupRestoreModal","deleteConfigurationModal"],"mappings":"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"}