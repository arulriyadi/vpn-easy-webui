{"version":3,"file":"peerJobs-pCUMVkVI.js","sources":["../../src/components/configurationComponents/peerJobs.vue"],"sourcesContent":["<script>\nimport ScheduleDropdown from \"@/components/configurationComponents/peerScheduleJobsComponents/scheduleDropdown.vue\";\nimport SchedulePeerJob from \"@/components/configurationComponents/peerScheduleJobsComponents/schedulePeerJob.vue\";\nimport {WireguardConfigurationsStore} from \"@/stores/WireguardConfigurationsStore.js\";\nimport {v4} from \"uuid\";\nimport LocaleText from \"@/components/text/localeText.vue\";\nexport default {\n\tname: \"peerJobs\",\n\tsetup(){\n\t\tconst store = WireguardConfigurationsStore();\n\t\treturn {store}\n\t},\n\tprops:{\n\t\tselectedPeer: Object\n\t},\n\tcomponents:{\n\t\tLocaleText,\n\t\tSchedulePeerJob,\n\t\tScheduleDropdown,\n\t},\n\tdata(){\n\t\treturn {\n\t\t\t\n\t\t}\n\t},\n\tmethods:{\n\t\tdeleteJob(j){\n\t\t\tthis.selectedPeer.jobs = this.selectedPeer.jobs.filter(x => x.JobID !== j.JobID);\n\t\t},\n\t\taddJob(){\n\t\t\tthis.selectedPeer.jobs.unshift(JSON.parse(JSON.stringify({\n\t\t\t\tJobID: v4().toString(),\n\t\t\t\tConfiguration: this.selectedPeer.configuration.Name,\n\t\t\t\tPeer: this.selectedPeer.id,\n\t\t\t\tField: this.store.PeerScheduleJobs.dropdowns.Field[0].value,\n\t\t\t\tOperator: this.store.PeerScheduleJobs.dropdowns.Operator[0].value,\n\t\t\t\tValue: \"\",\n\t\t\t\tCreationDate: \"\",\n\t\t\t\tExpireDate: \"\",\n\t\t\t\tAction: this.store.PeerScheduleJobs.dropdowns.Action[0].value\n\t\t\t}))\n\t\t\t)\n\t\t}\n\t},\n\t\n}\n</script>\n\n<template>\n\t<div class=\"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll\">\n\t\t<div class=\"container d-flex h-100 w-100\">\n\t\t\t<div class=\"m-auto modal-dialog-centered dashboardModal\">\n\t\t\t\t<div class=\"card rounded-3 shadow\" style=\"width: 700px\">\n\t\t\t\t\t<div class=\"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-2\">\n\t\t\t\t\t\t<h4 class=\"mb-0 fw-normal\">\n\t\t\t\t\t\t\t<LocaleText t=\"Schedule Jobs\"></LocaleText>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<button type=\"button\" class=\"btn-close ms-auto\" @click=\"this.$emit('close')\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"card-body px-4 pb-4 pt-2 position-relative\">\n\t\t\t\t\t\t<div class=\"d-flex align-items-center mb-3\">\n\t\t\t\t\t\t\t<button class=\"btn bg-primary-subtle border-1 border-primary-subtle text-primary-emphasis rounded-3 shadow\" \n\t\t\t\t\t\t\t        \n\t\t\t\t\t\t\t        @click=\"this.addJob()\">\n\t\t\t\t\t\t\t\t<i class=\"bi bi-plus-lg me-2\"></i>\n\t\t\t\t\t\t\t\t<LocaleText t=\"Job\"></LocaleText>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<TransitionGroup name=\"schedulePeerJobTransition\" tag=\"div\" class=\"position-relative\">\n\t\t\t\t\t\t\t<SchedulePeerJob\n\t\t\t\t\t\t\t\t@refresh=\"this.$emit('refresh')\"\n\t\t\t\t\t\t\t\t@delete=\"this.deleteJob(job)\"\n\t\t\t\t\t\t\t\t:dropdowns=\"this.store.PeerScheduleJobs.dropdowns\"\n\t\t\t\t\t\t\t\t:key=\"job.JobID\"\n\t\t\t\t\t\t\t\t:pjob=\"job\" v-for=\"(job, index) in this.selectedPeer.jobs\">\n\t\t\t\t\t\t\t</SchedulePeerJob>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"card shadow-sm\" key=\"none\" \n\t\t\t\t\t\t\t     style=\"height: 153px\"\n\t\t\t\t\t\t\t     v-if=\"this.selectedPeer.jobs.length === 0\">\n\t\t\t\t\t\t\t\t<div class=\"card-body text-muted text-center d-flex\">\n\t\t\t\t\t\t\t\t\t<h6 class=\"m-auto\">\n\t\t\t\t\t\t\t\t\t\t<LocaleText t=\"This peer does not have any job yet.\"></LocaleText>\n\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TransitionGroup>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style scoped>\n.schedulePeerJobTransition-move, /* apply transition to moving elements */\n.schedulePeerJobTransition-enter-active,\n.schedulePeerJobTransition-leave-active {\n\ttransition: all 0.4s cubic-bezier(0.82, 0.58, 0.17, 0.9);\n}\n\n.schedulePeerJobTransition-enter-from,\n.schedulePeerJobTransition-leave-to {\n\topacity: 0;\n\ttransform: scale(0.9);\n}\n\n/* ensure leaving items are taken out of layout flow so that moving\n   animations can be calculated correctly. */\n.schedulePeerJobTransition-leave-active {\n\tposition: absolute;\n\twidth: 100%;\n}\n</style>"],"names":["_sfc_main","WireguardConfigurationsStore","LocaleText","SchedulePeerJob","ScheduleDropdown","j","x","v4","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_10","_hoisted_11","_openBlock","_createElementBlock","_createElementVNode","_hoisted_4","_createVNode","_component_LocaleText","_TransitionGroup","_withCtx","_Fragment","_renderList","job","index","_createBlock","_component_SchedulePeerJob","$event","_hoisted_9","_createCommentVNode"],"mappings":"8SAMA,MAAKA,EAAU,CACd,KAAM,WACN,OAAO,CAEN,MAAO,CAAC,MADMC,GACD,CACb,EACD,MAAM,CACL,aAAc,MACd,EACD,WAAW,CACV,WAAAC,EACA,gBAAAC,EACA,iBAAAC,CACA,EACD,MAAM,CACL,MAAO,CAEP,CACA,EACD,QAAQ,CACP,UAAUC,EAAE,CACX,KAAK,aAAa,KAAO,KAAK,aAAa,KAAK,OAAOC,GAAKA,EAAE,QAAUD,EAAE,KAAK,CAC/E,EACD,QAAQ,CACP,KAAK,aAAa,KAAK,QAAQ,KAAK,MAAM,KAAK,UAAU,CACxD,MAAOE,EAAI,EAAC,SAAU,EACtB,cAAe,KAAK,aAAa,cAAc,KAC/C,KAAM,KAAK,aAAa,GACxB,MAAO,KAAK,MAAM,iBAAiB,UAAU,MAAM,CAAC,EAAE,MACtD,SAAU,KAAK,MAAM,iBAAiB,UAAU,SAAS,CAAC,EAAE,MAC5D,MAAO,GACP,aAAc,GACd,WAAY,GACZ,OAAQ,KAAK,MAAM,iBAAiB,UAAU,OAAO,CAAC,EAAE,KACzD,CAAC,CAAC,CACF,CACD,CACA,CAEF,EAIMC,EAAA,CAAA,MAAM,oFAAoF,EACzFC,EAAA,CAAA,MAAM,8BAA8B,EACnCC,EAAA,CAAA,MAAM,6CAA6C,KAClD,MAAM,wBAAwB,MAAA,CAAoB,MAAA,OAAA,GACjDC,EAAA,CAAA,MAAM,8EAA8E,EACpFC,EAAA,CAAA,MAAM,gBAAgB,EAKtBC,EAAA,CAAA,MAAM,4CAA4C,EACjDC,EAAA,CAAA,MAAM,gCAAgC,KAiBrC,MAAM,iBAAiB,IAAI,OAC3B,MAAA,CAAqB,OAAA,OAAA,GAEpBC,EAAA,CAAA,MAAM,yCAAyC,EAC/CC,EAAA,CAAA,MAAM,QAAQ,yEAhC1B,OAAAC,EAAA,EAAAC,EA0CM,MA1CNV,EA0CM,CAzCLW,EAwCM,MAxCNV,EAwCM,CAvCLU,EAsCM,MAtCNT,EAsCM,CArCLS,EAoCM,MApCNC,EAoCM,CAnCLD,EAKM,MALNR,EAKM,CAJLQ,EAEK,KAFLP,EAEK,CADJS,EAA2CC,EAAA,CAA/B,EAAE,eAAe,CAAA,IAE9BH,EAAsF,SAAA,CAA9E,KAAK,SAAS,MAAM,oBAAqB,4BAAY,MAAK,OAAA,OAEnEA,EA4BM,MA5BNN,EA4BM,CA3BLM,EAOM,MAPNL,EAOM,CANLK,EAKS,SAAA,CALD,MAAM,8FAEL,4BAAY,OAAM,iBAC1BA,EAAkC,IAAA,CAA/B,MAAM,oBAAoB,EAAA,KAAA,EAAA,GAC7BE,EAAiCC,EAAA,CAArB,EAAE,KAAK,CAAA,MAGrBD,EAkBkBE,EAAA,CAlBD,KAAK,4BAA4B,IAAI,MAAM,MAAM,sBApExE,QAAAC,EA0EoB,IAA8C,QAL3DN,EAMkBO,EAAA,KA3EzBC,OA0EgD,aAAa,KA1E7D,CA0E4BC,EAAKC,SAL1BC,EAMkBC,EAAA,CALhB,8BAAc,MAAK,SAAA,GACnB,SAAMC,GAAA,KAAO,UAAUJ,CAAG,EAC1B,UAAgB,KAAA,MAAM,iBAAiB,UACvC,IAAKA,EAAI,MACT,KAAMA,wDAKQ,aAAa,KAAK,SAAM,GAFxCV,IAAAC,EAQM,MARNc,EAQM,CALLb,EAIM,MAJNJ,EAIM,CAHLI,EAEK,KAFLH,EAEK,CADJK,EAAkEC,EAAA,CAAtD,EAAE,sCAAsC,CAAA,SAlF9DW,EAAA,GAAA,EAAA,IAAA,EAAA"}